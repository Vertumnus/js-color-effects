<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: effects.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: effects.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/* 
 * Copyright Armin Junge
 */

var colorLib = require('color')

/**
 * @typedef {Array.&lt;Number>} colorArray Array of color
 */
/**
 * @typedef {Array.&lt;colorArray>} pixelArray Array of colors for pixels
 */


/**
 * Color Effects class
 * Each effect method returns an array for the given number of pixels.
 * Each element of this array is itself an array with rgb color code ([r, g, b]).
 */
class ColorEffects{
   /**
    * Creates an instance of Color Effects
    * @param {Number} pixel - Number of pixels
    * @returns {ColorEffects}
    */
   constructor(pixel){
      this.pixelCount = pixel
   }
   
   /**
    * Generates rainbow colors
    * @param {Boolean} reverse - makes the rainbow in reverse direction
    * @returns {pixelArray}
    */
   rainbow(reverse){
      let way = 1280 // 5 turns * 256 color spectrum
      // calculate step depending on number of pixel
      let step = Math.floor( way / ( this.pixelCount - 1 ) )
      
      let result = []
      
      for(let position = -1; position &lt;= way; position += step)
         result.push(this._getRainbowColorFrom(position))

      if(reverse)
         result.reverse()
      
      return result
   }
   
   /**
    * Determines the color depending on the position in the rainbow
    * @private
    * @param {Number} position
    * @returns {Array}
    */
   _getRainbowColorFrom(position){
      let diff = position % 256
      if(position &lt; 0)
         return [255, 0, 0]
      if(position &lt; 256)
         return [255, diff, 0]
      if(position &lt; 512)
         return [255 - diff, 255, 0]
      if(position &lt; 768)
         return [0, 255, diff]
      if(position &lt; 1024)
         return [0, 255 - diff, 255]
      return [diff, 0, 255]
   }
   
   /**
    * Generates the fading from one color to another
    * @param {(String|Array)} from - Color starting the fading from 
    * @param {(String|Array)} to - Color ending the fading to 
    * @returns {pixelArray} 
    */
   fade(from, to){
      let fromR, fromG, fromB
      [fromR, fromG, fromB] = colorLib(from).array()
      let toR, toG, toB
      [toR, toG, toB] = colorLib(to).array()
      let diffR = (toR - fromR) / (this.pixelCount - 1)
      let diffG = (toG - fromG) / (this.pixelCount - 1)
      let diffB = (toB - fromB) / (this.pixelCount - 1)
      
      let result = []
      
      for(let light = 0; light &lt; this.pixelCount; ++light, fromR += diffR, fromG += diffG, fromB += diffB)
         result.push([Math.round(fromR), Math.round(fromG), Math.round(fromB)])
      
      return result
   }
   
   /**
    * Generates random colors
    * @returns {pixelArray}
    */
   random(){
      let result = []
      let steps = this.pixelCount
      while(steps--)
         result.push([this._getRandomColorValue(), this._getRandomColorValue(), this._getRandomColorValue()])
      
      return result
   }
   
   /**
    * Generates a random color value
    * @private
    * @returns {Number}
    */
   _getRandomColorValue(){
      return Math.floor(Math.random()*256)
   }
}

module.exports = ColorEffects</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="ColorEffects.html">ColorEffects</a></li></ul><h3><a href="global.html">Global</a></h3>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.2</a> on Thu Jun 13 2019 00:16:57 GMT+0200 (GMT+02:00)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
